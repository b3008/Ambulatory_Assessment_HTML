!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist/",n(n.s=8)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));window&&(window.html=function(e,...t){let n=e[0];for(let r=0;r<t.length;r++)n+=t[r],n+=e[r+1];return n});class r extends HTMLElement{static registerAAElement(e,t){customElements.get(e)||(window.AANodeNames=window.AANodeNames||[],window.AANodeNames.push(e.toUpperCase()),customElements.define(e,t))}static isAAElement(e){return-1!=AANodeNames.indexOf(e.nodeName)}static createFragmentForNode(e){let t=document.createDocumentFragment();for(let n=0;n<e.childNodes.length;n++)t.append(e.childNodes[n].cloneNode(!0));return t}static createHolderForNode(e){let t=e.cloneNode(!1);return t.innerFragment=r.createFragmentForNode(e),t}static scanAndReplace(e){if("TEMPLATE"===e.nodeName)r.scanAndReplace(e.content);else if(r.isAAElement(e)){let t=r.createHolderForNode(e);e.replaceWith(t)}else for(let t=0;t<e.childNodes.length;t++)r.scanAndReplace(e.childNodes[t])}constructor(){super(),this._props=this.makePropertiesFromAttributes()}connectedCallback(){if(console.log(this.tagName,this.id," connected"),this._attachedTimestamp=(new Date).getTime(),this._debug=!0===this.debug||null===this.debug,this.innerFragment){r.scanAndReplace(this.innerFragment);for(let e=0;e<this.innerFragment.childNodes.length;e++)this.appendChild(r.copy(this.innerFragment.childNodes[e]))}}makePropertiesFromAttributes(){let e=customElements.get(this.tagName.toLowerCase()).observedAttributes;if(!e)return null;let t={};for(let n=0;n<e.length;n++){let r=this.toCamelCase(e[n]);t[r]=e[n],void 0===this[r]&&Object.defineProperty(this,r,{get:()=>{let t=this.getAttribute(e[n]);return"true"===t||"false"!==t&&t},set:t=>{this.setAttribute(e[n],t)}})}return t}toCamelCase(e){let t=e.split("-"),n=t[0];for(let e=1;e<t.length;e++)n+=t[e][0].toUpperCase()+t[e].substr(1);return n}toHyphenated(e){let t="";for(let n=0;n<e.length;n++){let r=e[n];r.toLowerCase()!==r?t+=`-${r.toLowerCase()}`:t+=r}return t}static copy(e){let t;return r.isAAElement(e)?e.innerFragment?(t=e.cloneNode(),t.innerFragment=r.createFragmentForNode(e.innerFragment)):(t=e.cloneNode(),t.innerFragment=r.createFragmentForNode(e)):t=e.cloneNode(!0),t}_dispatchDebugEvent(e){this.debug&&this.dispatchEvent(new CustomEvent("debugEvent",{detail:e,bubbles:!0}))}_dispatchEndEvent(e){this.dispatchEvent(new CustomEvent("endEvent",{bubbles:!0,detail:e}))}_getParentSession(){let e=this;for(;null!=e&&"AA-SESSION"!=e.nodeName;)e=e.parentNode;return e}}customElements.get("aa-base-element")||(window.AANodeNames=window.AANodeNames||[],window.AANodeNames.push("AA-BASE-ELEMENT"),customElements.define("aa-base-element",r))},function(e,t,n){"use strict";(function(e){t.a=function(t){var n=function(e,t){var n=new Error(e+" at character "+t);throw n.index=t,n.description=e,n},r={"-":!0,"!":!0,"~":!0,"+":!0},s={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},i=function(e){var t,n=0;for(var r in e)(t=r.length)>n&&e.hasOwnProperty(r)&&(n=t);return n},a=i(r),o=i(s),l={true:!0,false:!1,null:null},u=function(e){return s[e]||0},h=function(e,t,n){return{type:"||"===e||"&&"===e?"LogicalExpression":"BinaryExpression",operator:e,left:t,right:n}},d=function(e){return e>=48&&e<=57},c=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=128&&!s[String.fromCharCode(e)]},p=function(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e>=128&&!s[String.fromCharCode(e)]},m=function(e){for(var t,i,m=0,g=e.charAt,f=e.charCodeAt,b=function(t){return g.call(e,t)},_=function(t){return f.call(e,t)},v=e.length,E=function(){for(var e=_(m);32===e||9===e||10===e||13===e;)e=_(++m)},y=function(){var e,t,r=A();return E(),63!==_(m)?r:(m++,(e=y())||n("Expected expression",m),E(),58===_(m)?(m++,(t=y())||n("Expected expression",m),{type:"ConditionalExpression",test:r,consequent:e,alternate:t}):void n("Expected :",m))},x=function(){E();for(var t=e.substr(m,o),n=t.length;n>0;){if(s.hasOwnProperty(t)&&(!c(_(m))||m+t.length<e.length&&!p(_(m+t.length))))return m+=n,t;t=t.substr(0,--n)}return!1},A=function(){var e,t,r,s,i,a,o,l;if(a=w(),!(t=x()))return a;for(i={value:t,prec:u(t)},(o=w())||n("Expected expression after "+t,m),s=[a,i,o];(t=x())&&0!==(r=u(t));){for(i={value:t,prec:r};s.length>2&&r<=s[s.length-2].prec;)o=s.pop(),t=s.pop().value,a=s.pop(),e=h(t,a,o),s.push(e);(e=w())||n("Expected expression after "+t,m),s.push(i,e)}for(e=s[l=s.length-1];l>1;)e=h(s[l-1].value,s[l-2],e),l-=2;return e},w=function(){var t,n,s;if(E(),t=_(m),d(t)||46===t)return C();if(39===t||34===t)return N();if(91===t)return k();for(s=(n=e.substr(m,a)).length;s>0;){if(r.hasOwnProperty(n)&&(!c(_(m))||m+n.length<e.length&&!p(_(m+n.length))))return m+=s,{type:"UnaryExpression",operator:n,argument:w(),prefix:!0};n=n.substr(0,--s)}return!(!c(t)&&40!==t)&&O()},C=function(){for(var e,t,r="";d(_(m));)r+=b(m++);if(46===_(m))for(r+=b(m++);d(_(m));)r+=b(m++);if("e"===(e=b(m))||"E"===e){for(r+=b(m++),"+"!==(e=b(m))&&"-"!==e||(r+=b(m++));d(_(m));)r+=b(m++);d(_(m-1))||n("Expected exponent ("+r+b(m)+")",m)}return t=_(m),c(t)?n("Variable names cannot start with a number ("+r+b(m)+")",m):46===t&&n("Unexpected period",m),{type:"Literal",value:parseFloat(r),raw:r}},N=function(){for(var e,t="",r=b(m++),s=!1;m<v;){if((e=b(m++))===r){s=!0;break}if("\\"===e)switch(e=b(m++)){case"n":t+="\n";break;case"r":t+="\r";break;case"t":t+="\t";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:t+=e}else t+=e}return s||n('Unclosed quote after "'+t+'"',m),{type:"Literal",value:t,raw:r+t+r}},I=function(){var t,r=_(m),s=m;for(c(r)?m++:n("Unexpected "+b(m),m);m<v&&(r=_(m),p(r));)m++;return t=e.slice(s,m),l.hasOwnProperty(t)?{type:"Literal",value:l[t],raw:t}:"this"===t?{type:"ThisExpression"}:{type:"Identifier",name:t}},T=function(e){for(var t,r,s=[],i=!1;m<v;){if(E(),(t=_(m))===e){i=!0,m++;break}44===t?m++:((r=y())&&"Compound"!==r.type||n("Expected comma",m),s.push(r))}return i||n("Expected "+String.fromCharCode(e),m),s},O=function(){var e,t;for(t=40===(e=_(m))?P():I(),E(),e=_(m);46===e||91===e||40===e;)m++,46===e?(E(),t={type:"MemberExpression",computed:!1,object:t,property:I()}):91===e?(t={type:"MemberExpression",computed:!0,object:t,property:y()},E(),93!==(e=_(m))&&n("Unclosed [",m),m++):40===e&&(t={type:"CallExpression",arguments:T(41),callee:t}),E(),e=_(m);return t},P=function(){m++;var e=y();if(E(),41===_(m))return m++,e;n("Unclosed (",m)},k=function(){return m++,{type:"ArrayExpression",elements:T(93)}},M=[];m<v;)59===(t=_(m))||44===t?m++:(i=y())?M.push(i):m<v&&n('Unexpected "'+b(m)+'"',m);return 1===M.length?M[0]:{type:"Compound",body:M}};if(m.version="0.3.4",m.toString=function(){return"JavaScript Expression Parser (JSEP) v"+m.version},m.addUnaryOp=function(e){return a=Math.max(e.length,a),r[e]=!0,this},m.addBinaryOp=function(e,t){return o=Math.max(e.length,o),s[e]=t,this},m.addLiteral=function(e,t){return l[e]=t,this},m.removeUnaryOp=function(e){return delete r[e],e.length===a&&(a=i(r)),this},m.removeAllUnaryOps=function(){return r={},a=0,this},m.removeBinaryOp=function(e){return delete s[e],e.length===o&&(o=i(s)),this},m.removeAllBinaryOps=function(){return s={},o=0,this},m.removeLiteral=function(e){return delete l[e],this},m.removeAllLiterals=function(){return l={},this},"undefined"==typeof exports){if(!t)return m;var g=t.jsep;t.jsep=m,m.noConflict=function(){return t.jsep===m&&(t.jsep=g),m}}else e.exports?exports=e.exports=m:exports.parse=m}(void 0)}).call(this,n(6)(e))},function(e,t){!function(e){function t(t){for(var r,a,o=t[0],l=t[1],u=t[2],d=0,c=[];d<o.length;d++)a=o[d],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&c.push(s[a][0]),s[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(h&&h(t);c.length;)c.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,o=1;o<n.length;o++){var l=n[o];0!==s[l]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},s={1:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var h=l;i.push([52,2]),n()}({52:function(e,t,n){"use strict";n.r(t),n(55),n(56),n(57),n(54),n(45)}})},function(module,__webpack_exports__,__webpack_require__){"use strict";var _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_aa_when_aa_when_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_aa_otherwise_aa_otherwise_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_lib_jsep_jsep_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1);class AAChoose extends _aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__.a{static get observedAttributes(){return["name","should-run","debug"]}constructor(){super(),this.root=this.attachShadow({mode:"open"}),this.root.innerHTML="<slot></slot>",this.originalContent=this.innerHTML}connectedCallback(){if(this._shouldRun=null===this.shouldRun||!0===this.shouldRun,this.sessionElement=this._getParentSession(),this._shouldRun)if(void 0!==this.innerFragment){_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__.a.scanAndReplace(this.innerFragment);let e=this._getNodeToInstantiate();if(0===e.length)this._dispatchEndEvent();else{for(let t=0;t<e.length;t++){let n=e[t];void 0!==n&&this.appendChild(n)}this._dispatchEndEvent()}}else 0===this.childNodes.length&&this._dispatchEndEvent()}_getNodeToInstantiate(){let e=[],t=[],n=!1;for(let r=0;r<this.innerFragment.children.length;r++){let s=this.innerFragment.children[r];"AA-WHEN"===s.nodeName?(n=this.evaluate(s),n&&e.push(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__.a.copy(s).innerFragment)):"AA-OTHERWISE"===s.nodeName&&t.push(_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__.a.copy(s).innerFragment)}return 0===e.length?t:e}run(){if(this.started=!0,0===this.myFragmentChildren.length)return;if(this.fragmentChildrenCounter>=this.myFragmentChildren.length)return;let e;this.currentNode||this.formerNodes.push(this.currentNode);let t=this.myFragmentChildren[this.fragmentChildrenCounter];e=this.isHolder(t)?this.replaceHolderWithElement(t):t,this.appendChild(e),this._restoreHeldNodes(e),this.fragmentChildrenCounter+=1}evaluate(e){let t=e.getAttribute("test");return null==t||""==t?null:this.evaluateTestExpression(t)}evaluateTestExpression(test){let expr=this.replaceExpressionIdentifiersWithValues(test);try{var parseTree=Object(_lib_jsep_jsep_js__WEBPACK_IMPORTED_MODULE_3__.a)(expr);if("Literal"==parseTree.left.type&&"Literal"==parseTree.right.type)return eval(expr);throw"unknown identifiers in expression : "+expr}catch(e){console.error("parse error:",e)}}replaceExpressionIdentifiersWithValues(e){let t=this._getParentSession(),n=e.toUpperCase(),r=Object.keys(t.getDataDump()),s=r.map(e=>e.toUpperCase());for(let e in s){let i=t.getData(r[e]),a=parseInt(i);a!=i&&(a="null"===i?"null":"true"===i?"true":"false"===i?"false":`"${i}"`);let o=new RegExp(s[e],"g");n=n.replace(o,a)}return n}}_aa_baseElement_baseElement_js__WEBPACK_IMPORTED_MODULE_0__.a.registerAAElement("aa-choose",AAChoose)},function(e,t,n){"use strict";var r=n(0);class s extends r.a{static get observedAttributes(){return["name","should-run","debug"]}constructor(){super(),this.root=this.attachShadow({mode:"open"}),this.root.innerHTML="<slot></slot>"}connectedCallback(){super.connectedCallback()}}r.a.registerAAElement("aa-when",s)},function(e,t,n){"use strict";var r=n(0);class s extends r.a{constructor(){super()}connectedCallback(){super.connectedCallback()}}r.a.registerAAElement("aa-otherwise",s)},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},,function(e,t,n){"use strict";n.r(t);n(2);var r=n(0);class s extends r.a{static get observedAttributes(){return["name","value"]}constructor(){super(),this.root=this.attachShadow({mode:"open"})}connectedCallback(){this._getParentSession().setData(this.name,this.value)}}r.a.registerAAElement("aa-variable",s);class i extends r.a{static get observedAttributes(){return["name","debug","value","min","max"]}constructor(){super()}connectedCallback(){let e=this._getParentSession();this.value=this.getValue(),e.setData(this.name,this.value),this._dispatchEndEvent({autoDispatch:!0})}getValue(){var e=parseFloat(this.min),t=parseFloat(this.max);return this.getRandomInt(e,t)}getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+.5)+e}}r.a.registerAAElement("aa-function-random",i);n(3);class a extends r.a{get observedAttributes(){return["name"]}constructor(){super()}connectedCallback(){}setData(e,t){this.dataset[e]=t}getData(e){return this.dataset[this.toHyphenated(e)]}}r.a.registerAAElement("aa-memory",a);class o extends r.a{static get observedAttributes(){return["submit-button-text","submit-button-hidden","name"]}attributeChangedCallback(e,t,n){switch(e){case"submit-button-text":this.submitButton.innerHTML=n;break;case"submit-button-hidden":this.root.querySelector(".submitButtonContainer").style.display=!0!==n||"true"!==n?"block":"none"}}constructor(){super(),this.root=this.attachShadow({mode:"open"})}connectedCallback(){super.connectedCallback(),this.root.innerHTML=this.css+this.html,this.submitButton=this.root.querySelector(".submitButton"),this._started||(this._started=!0,this.submitButtonHidden&&(this.root.querySelector(".submitButtonContainer").style.display="none"),this.root.querySelector(".submitButton").addEventListener("click",this.submitButtonClick.bind(this)))}get css(){return html`<style>
                :host {
                    display: block;
                    height: fit-content;
                    padding:20px;
                    font-family:sans-serif;
                }

                .submitButtonContainer{
                    text-align:right;
                    justify-content: space-between; 
                    align-items:center;
                    padding:20px;
                }


                paper-button.darkBlue {
                    background-color: #0d47a1;
                    color: white;
                 }
  
         </style>`}get html(){return html`
            <slot></slot>
            <div id='userMessage'>
            <div class='submitButtonContainer'>
                <div>
                    ${this.getSubmitButton()}
            </div>
                <div id='userMessage'></div>
            </div>`}getSubmitButton(){let e=this.submitButtonText||"submit";return customElements.get("paper-button")?html`<paper-button class='submitButton darkBlue' raised class='indigo'>${e}</paper-button>`:html`<button class='submitButton'>${e}</button>`}submitButtonClick(e){let t=this.querySelector("#userMessage");if(this.hasChildrenThatDemandResponse())return void(t.innerHTML=html`
                    <div style='display:flex; align-items:center'> 
                        <div>please fill out the required fields</div> 
                            <div id='attention' style='color: red; font-size: 20px;  border: solid thin; border-radius: 50%; width: 20px;
                                                margin-left:20px; height: 20px; 
                                                text-align: center;
                                                padding: 5px;'>!</div></div>`);let n=new CustomEvent("valueSubmit",{bubbles:!0,detail:{value:this.getValue()}});this.dispatchEvent(n),this._dispatchEndEvent(this.getValue()),void 0!==e.detail.callback&&e.detail.callback(e),!1===this.dontHide&&this.hide()}hasChildrenThatDemandResponse(){let e=this.getAAChildren(this),t=!1;for(let n=0;n<e.length;n++)e[n].mandatory&&null===child.getValue()&&(t=!0);return t}getAAChildren(){let e=[];for(let t=0;t<this.children.length;t++)r.a.isAAElement(this.children[t])&&e.push(this.children[t]);return e}getChildrenValues(){let e=[];for(let t=0;t<this.children.length;t++){let n=this.children[t];n.getValue?e.push(n.getValue()):n.value&&e.push({[n.name]:n.value})}return e}getValue(){this.attachedTimestamp,(new Date).getTime();return this.getChildrenValues(this)}getValueWithKey(){let e={};return e[this.name]=this.getValue(),e}automate(){for(let e=0;e<this.children.length;e++)r.a.isAAElement(this.children[e])&&void 0!==this.children[e].automate&&this.children[e].automate();this.submitButtonClick()}hide(){this.style.display="none"}show(){this.style.display="block"}}r.a.registerAAElement("aa-screen",o);class l extends r.a{static get observedAttributes(){return["name","goto"]}connectedCallback(){this._dispatchEndEvent({goto:this.goto,autoDispatch:!0})}}r.a.registerAAElement("aa-jump",l);class u extends r.a{static get observedAttributes(){return["name","write-into","should-run","debug","type","stopped"]}constructor(){super(),this.root=this.attachShadow({mode:"open"}),this.root.innerHTML="<slot></slot>"}connectedCallback(){this.root.addEventListener("endEvent",this.endEventListener.bind(this)),null!==this.shouldRun&&!0!==this.shouldRun||this.init()}get css(){return html`
            <style>
                :host {
                    display: block;
                }
            </style>
        `}get html(){return html`
            <slot></slot>
            <button id='nextButton' hidden></button>
        `}init(){if(this.stopped=!1,this.writeInto?this.target=document.querySelector(this.writeInto):this.target=this,void 0===this.innerFragment)return console.warn(".innerFragment is undefined"),void this.restoreHeldNodes(this);this.sIndex=0,this.stopped||this.start()}start(){this.stopped||(this.stopped=!1,this.next())}stop(){this.stopped=!0}next(e){return new Promise((t,n)=>{if(this.stopped)return;if(this.sIndex>=this.innerFragment.childNodes.length)return null;if("string"==typeof e)for(let t=0;t<this.innerFragment.childNodes.length;t++)if(this.innerFragment.childNodes[t].getAttribute&&this.innerFragment.childNodes[t].getAttribute("name")==e){this.sIndex=t;break}let s=this.innerFragment.childNodes[this.sIndex];for(;s.nodeType!=Node.ELEMENT_NODE;){let e=r.a.copy(s);if(this.target.appendChild(e),this.currentNode=e,this.sIndex++,this.sIndex>=this.innerFragment.childNodes.length)return;s=this.innerFragment.childNodes[this.sIndex]}let i=r.a.copy(s);this.currentNode=i,this.sIndex+=1,i._dispatchEndEvent?(this.target.appendChild(i),setTimeout(()=>t())):t(this.next())})}endEventListener(e){e.stopPropagation(),e.detail?e.detail.goto?this.next(e.detail.goto):e.detail.autoDispatch?this.next(!0):setTimeout(()=>this.next(!0)):setTimeout(()=>this.next(!0))}}r.a.registerAAElement("aa-sequence",u);class h extends r.a{static get observedAttributes(){return["name","should-run","debug"]}constructor(){super(),this._mem=document.createElement("aa-memory"),this.myTemplate=document.createElement("template"),this.myTemplate.innerHTML=this.innerHTML,this.innerHTML="",this.addEventListener("valueSubmit",e=>{let t={data:e.detail.value,sessionID:this.sessionID,sessionTimestamp:this.sessionTime,sessionName:this.name,variables:Object.keys(e.detail.value)},n=new CustomEvent("inputSubmit",{bubbles:!0,detail:{input:t}});this.dispatchEvent(n)}),this.addEventListener("endEvent",e=>{this.debug||e.stopPropagation();let t=new CustomEvent("sessionEndEvent",{bubbles:!0,detail:"sessionEnd"});this.dispatchEvent(t)})}myIdGenerator(){return 0}connectedCallback(){this.sessionID=this.myIdGenerator(),this.sessionTime=(new Date).getTime();let e=Object.keys(this.dataset);for(let t in e)this.setData(e[t],this.dataset[e[t]]);null!==this.shouldRun&&!0!==this.shouldRun||this.run()}attachTemplateChildNodesToMyself(e){for(;e.content.childNodes.length;)if("TEMPLATE"===e.content.childNodes[0].nodeName){for(;e.content.childNodes[0].content.childNodes.length;)this.appendChild(e.content.childNodes[0].content.childNodes[0]);e.content.childNodes[0].remove()}else this.appendChild(e.content.childNodes[0])}run(){let e=this.myTemplate.cloneNode(!0);r.a.scanAndReplace(e),this.attachTemplateChildNodesToMyself(e)}getData(e){return this._mem.getData(e)}setData(e,t){return this._mem.setData(e,t)}getDataDump(){return this._mem.dataset}}r.a.registerAAElement("aa-session",h);class d extends r.a{static get observedAttributes(){return["long","label","name","value"]}changeInputItem(e){if("long"===e){let e=this.value,t=this.label;this.inputItem=customElements.get("paper-textarea")?document.createElement("paper-textarea"):document.createElement("textarea"),this.inputItem.value=e,this.inputItem.label=t,this.inputItem.classList.add("inputItem"),this.fixBugInPaperTextarea(this.inputItem),this.inputItem.addEventListener("change",e=>{this.value=e.target.value}),this.root.querySelector(".inputItem").replaceWith(this.inputItem)}else{let e=this.value,t=this.label;this.inputItem=customElements.get("paper-input")?document.createElement("paper-input"):document.createElement("input"),this.inputItem.value=e,this.inputItem.label=t,this.inputItem.classList.add("inputItem"),this.inputItem.addEventListener("change",e=>{this.value=e.target.value}),this.root.querySelector(".inputItem").replaceWith(this.inputItem)}}get value(){return this.inputItem?this.inputItem.value:this.getAttribute("value")}set value(e){this.setAttribute("value",e),this.inputItem&&(this.inputItem.value=e)}get label(){return this.getAttribute("label")}set label(e){this.setAttribute("label",e),this.inputItem&&(this.inputItem.label=e)}set long(e){this.setAttribute("long",e),e?this.changeInputItem("long"):this.changeInputItem("short")}get long(){return this.getAttribute("long")}constructor(){super(),this.root=this.attachShadow({mode:"open"});let e=this.long||""===this.long?this.longHtml:this.html;this.root.innerHTML=this.css+`<div class='inputContainer'>${e}<div>`;let t=this.label,n=this.value;this.inputItem=this.root.querySelector(".inputItem"),t&&(this.inputItem.label=t),n&&(this.inputItem.value=n),this.fixBugInPaperTextarea(this.inputItem),this.inputItem.addEventListener("change",e=>{this.value=e.target.value})}fixBugInPaperTextarea(e){setTimeout(()=>{if("PAPER-TEXTAREA"===e.tagName){e.root.childNodes[2].children[1].textarea.style.overflow="hidden";let t=window.getComputedStyle(this.root.querySelector(".inputContainer")).width;e.root.childNodes[2].style.width=t,e.addEventListener("focus",t=>{let n=window.getComputedStyle(this.root.querySelector(".inputContainer")).width;e.root.childNodes[2].style.width=n}),window.addEventListener("resize",()=>{e.root.childNodes[2].style.width="",setTimeout(()=>{let t=window.getComputedStyle(this.root.querySelector(".inputContainer")).width;e.root.childNodes[2].style.width=t},100)})}},0)}connectedCallback(){super.connectedCallback()}get css(){return"<style>\n        :host{\n            display:block;\n            overflow:hidden;        \n        }\n        paper-textarea textarea {\n           overflow:hidden;\n        }\n        </style>"}get html(){let e=customElements.get("paper-input")?"<paper-input class='inputItem'></paper-input>":"<input class='inputItem'>";return html`${e}`}get longHtml(){let e=customElements.get("paper-input")?"<paper-textarea class='inputItem'></paper-input>":"<textarea class='inputItem'></textarea";return html`${e}`}}r.a.registerAAElement("aa-text-answer",d)}]);
//# sourceMappingURL=aaCustomElements.js.map